import{r as x,C as m,a as h,j as s,L as j}from"./index-c1cc7f61.js";const N=({item:a})=>{var d;const{favorites:i,favoritesHandler:l,user:c,addCarts:r,addCardsCountPlus:n,addCardsCountMinus:t}=x.useContext(m),o=h();return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card__top",children:[s.jsx("div",{className:"card__sale",children:a.sale>0?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:"/images/icons/sale-red.svg",alt:"sale"}),s.jsxs("p",{children:[a.sale," %"]})]}):""}),s.jsx("img",{onClick:()=>l(a),className:"card__favorite",src:i.some(e=>e.id===a.id)?"/images/icons/HeartRed.svg":"/images/icons/favorite.svg",alt:""})]}),s.jsxs("div",{className:"card__main",children:[s.jsx("div",{className:"main-img",children:s.jsx(j,{to:`/product/${a.id}`,children:s.jsx("img",{src:a.image,alt:"category"})})}),s.jsx("h3",{className:"main-title",children:a.title}),s.jsx("p",{className:"main-category",children:a.category}),s.jsxs("div",{className:"price-box",children:[s.jsx("p",{className:"main-price",children:a.price}),s.jsx("p",{className:"main-sale",children:"37 990₽"})]})]}),s.jsxs("div",{className:"card__bottom",children:[s.jsx("h3",{className:"bottom-title",children:"Размеры"}),s.jsxs("dl",{className:"bottom-table",children:[s.jsxs("div",{className:"bottom-table__item",children:[s.jsx("dt",{children:"Ширина"}),s.jsxs("dd",{children:[a.width," cm"]})]}),s.jsxs("div",{className:"bottom-table__item",children:[s.jsx("dt",{children:"Глубина"}),s.jsxs("dd",{children:[a.deep," cm"]})]}),s.jsxs("div",{className:"bottom-table__item",children:[s.jsx("dt",{children:"Высота"}),s.jsxs("dd",{children:[a.height," cm"]})]})]}),(d=c.carts)!=null&&d.some(e=>e.id==a.id)?s.jsxs("div",{className:"card__counter",children:[" ",s.jsx("button",{onClick:()=>t(a.id),children:"-"}),s.jsxs("span",{children:[" ",c.carts.find(e=>e.id===a.id).count]}),s.jsx("button",{onClick:()=>n(a.id),children:"+"})]}):s.jsx("button",{type:"button",onClick:()=>{"id"in c?r(a):o("/login")},className:"bottom-btn",children:"Добавить в корзину"})]})]})};export{N as C};
